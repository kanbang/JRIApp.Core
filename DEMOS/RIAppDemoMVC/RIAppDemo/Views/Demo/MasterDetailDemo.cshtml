@{
    Layout = "~/Views/Shared/_LayoutDemo.cshtml";
}
@{
    ViewBag.Title = "Master-Details Demo";
}
@Html.AntiForgeryToken()
<script id="optionsGridCustomers" type="text/x-options">
    wrapCss:customerTableWrap,
    isHandleAddNew:true,
    editor:{templateID:customerEditTemplate,width:500,height:550,title:'Customer editing'},
    details:{templateID:customerDetailsTemplate}
</script>
<script id="optionsTableCustOrders" type="text/x-options">
    isUseScrollIntoDetails:false,
    isHandleAddNew:true,
    editor:{templateID:orderEditTemplate,width:650,height:550,title:'Order editing'},
    details:{templateID:orderDetailsTemplate}
</script>
<script id="bindAddNewOrder" type="text/x-options">
    this.command,to=addNewCommand,source=customerVM.ordersVM
</script>
<script id="optionsAddNewOrder" type="text/x-options">
    tip:'This is not a Real World example how to add an order!!!'
</script>
<style type="text/css">

    .space {
        display: inline-block;
        width: 10px;
    }

    #demoHeader label {
        color: Blue;
    }

    #demoContent {
        height: 600px;
        overflow: visible;
        vertical-align: top;
    }

    .customerTableWrap {
        height: 94%;
        width: 100%;
    }

    .custInfo {
        color: Blue;
    }

    .custEdit {
    }

    .listbox-edit select {
        width: 75%;
    }

    .qtyEdit > input[type="text"] {
        min-width: 20px;
        width: 45px;
    }

    form.customerInfo {
        padding: 15px;
        width: 100%;
    }

    .orderDetailTableWrap {
        max-height: 180px;
        width: 100%;
    }

    div.ria-dataform .addressLine {
        margin-bottom: 2px;
        margin-top: 2px;
    }

    div.ria-dataform .addressLabel {
        color: Blue;
        display: inline-block;
        width: 9em;
    }

    div.ria-dataform .address {
    }

    .autocompleteTableWrap {
        height: 220px;
        margin: 0px;
        padding: 0px;
        width: 100%;
    }

    .autocompleteTableHeader {
        display: none;
    }

    table.ria-data-table tr:nth-child(even) {
        background-color: #ECF2F6;
    }
</style>
<environment include="Development">
    <script src="~/js/demo/mastDetDemo/main.js"></script>
</environment>
<environment exclude="Development">
    <script src="~/js/demo/mastDetDemo/main.min.js"></script>
</environment>
<script type="text/javascript">
    require(["mastDetDemo/main", "jriapp_ui", "jriapp_ru"],
        function(DEMO, UI, LANG) {
            $("#loading").fadeIn();
            var mainOptions = {
                service_url: null,
                permissionInfo: null
            };

            (function(ops) {
                ops.service_url = '@Url.RouteUrl("Default", new {controller = "RIAppDemoServiceEF", action = ""})';
                ops.permissionInfo = @await Component.InvokeAsync("Permissions");
            })(mainOptions);

            DEMO.start(mainOptions).then(function () {
                $("#demoContent").animate({ opacity: 1 }, 1000);
                $("#loading").fadeOut(1000);
            }, function (err) {
                $("#loading").fadeOut(1000);
            });
        });
</script>
<h2 class="ex8">@ViewBag.Title</h2>
<div id="demoContent" style="opacity:0;" data-bind="this.isBusy,to=dbContext.isBusy" data-view="busy">
    <div style="height: 85%; vertical-align: top;">
        <table data-name="gridCustomers"
               data-bind-1="this.dataSource,to=dbSet,source=customerVM"
               data-bind-2="this.grid,to=grid,mode=BackWay,source=customerVM"
               data-view-options="get(optionsGridCustomers)">
            <thead>
                <tr>
                    <th data-column="width:35px,type:row_expander"></th>
                    <th data-column="width:50px,type:row_actions"></th>
                    <th data-column="width:40px,sortable:true,title:Title" data-content="fieldName:Title,readOnly:true"></th>
                    <th data-column="width:150px,sortable:true,title:Customer Name,sortMemberName=CustomerName.LastName;CustomerName.MiddleName;CustomerName.FirstName" data-content="fieldName:CustomerName.Name,readOnly:true"></th>
                    <th data-column="width:70px,sortable:true,title:Phone,sortMemberName=CustomerName.Contact.Phone" data-content="fieldName:CustomerName.Contact.Phone,readOnly:true"></th>
                    <th data-column="width:30%,sortable:true,title:CompanyName" data-content="fieldName:CompanyName,readOnly:true"></th>
                    <th data-column="width:150px,sortable:true,title:SalesPerson" data-content="fieldName:SalesPerson,readOnly:true"></th>
                    <!--AddressCount was introduced to test server side calculated fields-->
                    <th data-column="width:100px,sortable:true,title:AddressCount" data-content="fieldName:AddressCount,readOnly:true"></th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
    <div style="border: none; padding-top: 20px; text-align: left; width: 100%;">
        <!--pager-->
        <div style="float: left;"
             data-bind-1="this.dataSource,to=dbSet,source=customerVM"
             @*when the pager is selected than the datagrid gets keydown and keyup events*@
             data-bind-2="this.parentControl,to=grid,source=customerVM"
             data-view="pager"
             data-view-options="sliderSize:10"></div>
        <div style="float: left; padding-left: 10px; padding-top: 10px;padding-bottom: 10px;">
            <span>Total rows:</span>&nbsp;<span data-bind="this.value,to=dbSet.totalCount,source=customerVM"></span>
        </div>
        <div style="float: right;">
            <button class="btn btn-info btn-small" data-bind="this.command,to=addNewCommand,mode=OneWay,source=customerVM"><i class="icon-plus"></i>&nbsp;New Customer</button>
            <button class="btn btn-info btn-small" data-bind="this.command,to=saveCommand,mode=OneWay,source=customerVM"><i class="icon-ok-circle"></i>&nbsp;Save changes</button>
            <button class="btn btn-info btn-small" data-bind="this.command,to=undoCommand,mode=OneWay,source=customerVM"><i class="icon-remove"></i>&nbsp;Undo changes</button>
        </div>
    </div>
</div>
@await Html.PartialAsync("_WaitLoad")
<script id="customerEditTemplate" type="text/x-template">
    <div style="margin: 0px; width: 100%;">
        <div style="width: 100%" data-bind="this.dataContext,mode=OneWay" data-view="dataform">
            <table style="background-color: transparent; border: none; table-layout: fixed; width: 95%;">
                <colgroup>
                    <col style="border: none; text-align: left; width: 125px;" />
                    <col style="border: none; text-align: left; width: 100%;" />
                </colgroup>
                <tbody>
                    <tr>
                        <td>
                            ID:
                        </td>
                        <td>
                            <span data-content="fieldName:CustomerId,css:{readCss:'custInfo',editCss:'custEdit'}"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Title:
                        </td>
                        <td>
                            <span data-content="fieldName:Title,css:{readCss:'custInfo',editCss:'custEdit'}"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            FirstName:
                        </td>
                        <td>
                            <span data-content="fieldName:CustomerName.FirstName,css:{readCss:'custInfo',editCss:'custEdit'}"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            MiddleName:
                        </td>
                        <td>
                            <span data-content="fieldName:CustomerName.MiddleName,css:{readCss:'custInfo',editCss:'custEdit'}"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            LastName:
                        </td>
                        <td>
                            <span data-content="fieldName:CustomerName.LastName,css:{readCss:'custInfo',editCss:'custEdit'}"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Suffix:
                        </td>
                        <td>
                            <span data-content="fieldName:Suffix,css:{readCss:'custInfo',editCss:'custEdit'}"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            CompanyName:
                        </td>
                        <td>
                            <span data-content="fieldName:CompanyName,css:{readCss:'custInfo',editCss:'custEdit'}"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            SalesPerson:
                        </td>
                        <td>
                            <span data-content="fieldName:SalesPerson,css:{readCss:'custInfo',editCss:'custEdit'}"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Email:
                        </td>
                        <td>
                            <span data-content="fieldName=CustomerName.Contact.EmailAddress,css:{readCss:'custInfo',editCss:'custEdit'}"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Phone:
                        </td>
                        <td>
                            <span data-content="fieldName:CustomerName.Contact.Phone,css:{readCss:'custInfo',editCss:'custEdit'}"></span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</script>
<script id="customerDetailsTemplate" type="text/x-template">
    @*Grid details template for customer's orders*@
    <div style="margin: 0px; min-height: 400px; width: 100%;">
        <div data-name="tabs" style="margin: 5px; padding: 5px; width: 95%;" data-view="tabs" data-view-options="hide:{effect:clip,duration:500},show:{effect:clip,duration:500}">
            <div id="detailsTabs">
                <ul>
                    <li>
                        <a href="#custDetails">Details on&nbsp;<span data-bind="this.value,to=CustomerName.Name"></span></a>
                    </li>
                    <li>
                        <a href="#custOrders">Customer's Orders</a>
                    </li>
                </ul>
                <div id="custDetails">
                    <form class="form-horizontal customerInfo" action="#">
                        <div class="control-group">
                            <label class="control-label">
                                ID:
                            </label>
                            <div class="controls">
                                <input type="text" class="value" data-bind="this.value,to=CustomerId" readonly="readonly" />
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label">
                                Title:
                            </label>
                            <div class="controls">
                                <input type="text" class="value" data-bind="this.value,to=Title" readonly="readonly" />
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label">
                                Suffix:
                            </label>
                            <div class="controls">
                                <input type="text" class="value" data-bind="this.value,to=Suffix" readonly="readonly" />
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label">
                                CompanyName:
                            </label>
                            <div class="controls">
                                <input type="text" class="value" data-bind="this.value,to=CompanyName" readonly="readonly" />
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label">
                                EmailAddress:
                            </label>
                            <div class="controls">
                                <input type="text" class="value" data-bind="this.value,to=CustomerName.Contact.EmailAddress" readonly="readonly" />
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label">
                                Phone:
                            </label>
                            <div class="controls">
                                <input type="text" class="value" data-bind="this.value,to=CustomerName.Contact.Phone" readonly="readonly" />
                            </div>
                        </div>
                    </form>
                </div>
                <div id="custOrders">
                    DISCLAIMER: This example allows you to add and delete the orders. But In the real
                    world it should never be done in this way.<br />
                    It is here just to show you the capabilties you have with the framework to manage
                    master-details.
                    <table style="font-size: 9pt; margin-bottom: 3px;"
                           data-name="tblOrders"
                           data-bind-1="this.dataSource,to=dbSet,source=customerVM.ordersVM"
                           data-bind-2="this.grid,to=grid,mode=BackWay,source=customerVM.ordersVM"
                           data-view-options="get(optionsTableCustOrders)">
                        <thead>
                            <tr>
                                <th data-column="width:20px,type:row_expander"></th>
                                <th data-column="width:50px,type:row_actions"></th>
                                <th data-column="width:50%,sortable:true,title:SalesOrderNumber" data-content="fieldName:SalesOrderNumber,readOnly:true"></th>
                                <th data-column="width:50%,sortable:true,title:PurchaseOrderNumber" data-content="fieldName:PurchaseOrderNumber,readOnly:true"></th>
                                <th data-column="width:110px,sortable:true,title:OrderDate" data-content="fieldName:OrderDate,readOnly:true"></th>
                                <th data-column="width:110px,sortable:true,title:DueDate" data-content="fieldName:DueDate,readOnly:true"></th>
                                <th data-column="width:110px,sortable:true,title:ShipDate" data-content="fieldName:ShipDate,readOnly:true"></th>
                                <th data-column="width:150px,sortable:true,title:TotalDue" data-content="fieldName:TotalDue,readOnly:true"></th>
                                <th data-column="width:150px,sortable:true,title:IsOnlineOrder" data-content="fieldName:OnlineOrderFlag,readOnly:true"></th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                    <button class="btn btn-info btn-small"
                            data-bind="get(bindAddNewOrder)"
                            data-view-options="get(optionsAddNewOrder)">
                        <i class="icon-plus"></i>&nbsp;New Order
                    </button>
                </div>
            </div>
        </div>
    </div>
</script>
<script id="orderEditTemplate" type="text/x-template">
    <div style="margin: 0px; width: 100%;">
        <div style="width: 100%" data-bind="this.dataContext,mode=OneWay" data-view="dataform">
            <table style="background-color: transparent; border: none; table-layout: fixed; width: 95%;">
                <colgroup>
                    <col style="border: none; text-align: left; width: 225px;" />
                    <col style="border: none; text-align: left; width: 100%;" />
                </colgroup>
                <tbody>
                    <tr>
                        <td>
                            ID:
                        </td>
                        <td>
                            <span data-content="fieldName:SalesOrderId"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Order Date:
                        </td>
                        <td>
                            <span data-content="fieldName:OrderDate,name:datepicker"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Due Date:
                        </td>
                        <td>
                            <span data-content="fieldName:DueDate,name:datepicker"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Ship Date:
                        </td>
                        <td>
                            <span data-content="fieldName:ShipDate,name:datepicker"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Order Status:
                        </td>
                        <td>
                            <span data-content="fieldName:Status,name:lookup,options:{dataSource=customerVM.ordersVM.orderStatuses,valuePath=key,textPath=val},css:{editCss:'listbox-edit'}">
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Ship to Address:
                        </td>
                        <td>
                            <span data-content="fieldName:ShipToAddressId,name:lookup,options:{dataSource=customerVM.custAdressView,valuePath=Address.AddressId,textPath=Address.AddressLine1},css:{editCss:'listbox-edit'}">
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Bill to Address:
                        </td>
                        <td>
                            <span data-content="fieldName:BillToAddressId,name:lookup,options:{dataSource=customerVM.custAdressView,valuePath=Address.AddressId,textPath=Address.AddressLine1},css:{editCss:'listbox-edit'}">
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Is Online Order:
                        </td>
                        <td>
                            <span data-content="fieldName:OnlineOrderFlag"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            SalesOrder Number:
                        </td>
                        <td>
                            <span data-content="fieldName:SalesOrderNumber,readOnly:true"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Ship Method:
                        </td>
                        <td>
                            <span data-content="fieldName:ShipMethod"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Credit Card Approval Code:
                        </td>
                        <td>
                            <span data-content="fieldName=CreditCardApprovalCode"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            SubTotal:
                        </td>
                        <td>
                            <span data-content="fieldName:SubTotal"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            TaxAmt:
                        </td>
                        <td>
                            <span data-content="fieldName:TaxAmt"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Freight:
                        </td>
                        <td>
                            <span data-content="fieldName:Freight"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            TotalDue:
                        </td>
                        <td>
                            <span data-content="fieldName:TotalDue"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Comment:
                        </td>
                        <td>
                            <span data-content="fieldName:Comment,name:multyline,options:{wrap:hard}"></span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</script>
<script id="orderDetEditTemplate" type="text/x-template">
    <div style="margin: 0px; width: 100%;">
        <div style="width: 100%" data-bind="this.dataContext,mode=OneWay" data-view="dataform">
            <table style="background-color: transparent; border: none; table-layout: fixed; width: 95%;">
                <colgroup>
                    <col style="border: none; text-align: left; width: 225px;" />
                    <col style="border: none; text-align: left; width: 100%;" />
                </colgroup>
                <tbody>
                    <tr>
                        <td>
                            ID:
                        </td>
                        <td>
                            <span data-content="fieldName:SalesOrderDetailId"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            OrderQty:
                        </td>
                        <td>
                            <span data-content="fieldName:OrderQty,css:{editCss:'qtyEdit'}"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Product:
                        </td>
                        <td>
                            <span data-content="template={readID=productTemplate1,editID=productTemplate2}"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            UnitPrice:
                        </td>
                        <td>
                            <span data-content="fieldName:UnitPrice"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            UnitPriceDiscount:
                        </td>
                        <td>
                            <span data-content="fieldName:UnitPriceDiscount"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            LineTotal:
                        </td>
                        <td>
                            <span data-content="fieldName:LineTotal,readOnly:true"></span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</script>
<script id="orderDetailsTemplate" type="text/x-template">
    @*Grid details template for order Details*@
    <div style="margin: 0px; width: 100%;">
        <div data-name="tabs" style="margin: 5px; padding: 5px; width: 95%;" data-bind="this.tabsEvents,to=tabsEvents,source=customerVM.ordersVM" data-view="tabs"
             data-view-options="hide:{effect:clip,duration:500},show:{effect:clip,duration:500}">
            <div id="odeTabs">
                <ul>
                    <li>
                        <a href="#sta">ShipToAddress</a>
                    </li>
                    <li>
                        <a href="#bta">BillToAddress</a>
                    </li>
                    <li>
                        <a href="#ode">Order Details</a>
                    </li>
                </ul>
                <div id="sta">
                    <form action="#" style="padding: 15px; width: 100%;" data-bind="this.dataContext,to=ShipToAddress"
                          data-view="dataform">
                        <dl class="dl-horizontal">
                            <dt>
                                <span class="addressLabel">AddressLine1:</span>
                            </dt>
                            <dd>
                                <!--inside data form we can use span tag with data-content attribute-->
                                <span class="address" data-content="fieldName:AddressLine1"></span>
                            </dd>
                            <dt>
                                <span class="addressLabel">AddressLine2:</span>
                            </dt>
                            <dd>
                                <span class="address" data-content="fieldName:AddressLine2"></span>
                            </dd>
                            <dt>
                                <span class="addressLabel">City:</span>
                            </dt>
                            <dd>
                                <span class="address" data-content="fieldName:City"></span>
                            </dd>
                            <dt>
                                <span class="addressLabel">StateProvince:</span>
                            </dt>
                            <dd>
                                <span class="address" data-content="fieldName:StateProvince"></span>
                            </dd>
                            <dt>
                                <span class="addressLabel">CountryRegion:</span>
                            </dt>
                            <dd>
                                <span class="address" data-content="fieldName:CountryRegion"></span>
                            </dd>
                            <dt>
                                <span class="addressLabel">PostalCode:</span>
                            </dt>
                            <dd>
                                <span class="address" data-content="fieldName:PostalCode"></span>
                            </dd>
                        </dl>
                    </form>
                </div>
                <div id="bta">
                    <form action="#" style="padding: 15px; width: 100%;" data-bind="this.dataContext,to=BillToAddress"
                          data-view="dataform">
                        <dl class="dl-horizontal">
                            <dt>
                                <span class="addressLabel">AddressLine1:</span>
                            </dt>
                            <dd>
                                <!--inside data form we can use span tag with data-content attribute-->
                                <span class="address" data-content="fieldName:AddressLine1"></span>
                            </dd>
                            <dt>
                                <span class="addressLabel">AddressLine2:</span>
                            </dt>
                            <dd>
                                <span class="address" data-content="fieldName:AddressLine2"></span>
                            </dd>
                            <dt>
                                <span class="addressLabel">City:</span>
                            </dt>
                            <dd>
                                <span class="address" data-content="fieldName:City"></span>
                            </dd>
                            <dt>
                                <span class="addressLabel">StateProvince:</span>
                            </dt>
                            <dd>
                                <span class="address" data-content="fieldName:StateProvince"></span>
                            </dd>
                            <dt>
                                <span class="addressLabel">CountryRegion:</span>
                            </dt>
                            <dd>
                                <span class="address" data-content="fieldName:CountryRegion"></span>
                            </dd>
                            <dt>
                                <span class="addressLabel">PostalCode:</span>
                            </dt>
                            <dd>
                                <span class="address" data-content="fieldName:PostalCode"></span>
                            </dd>
                        </dl>
                    </form>
                </div>
                <div id="ode">
                    <table style="font-size: 9pt;" data-name="tblOrderDetails" data-bind="this.dataSource,to=dbSet,source=customerVM.ordersVM.orderDetailsVM"
                           data-view-options="wrapCss:orderDetailTableWrap,isHandleAddNew:true,editor:{templateID:orderDetEditTemplate,width:650,height:550,title:'Order Detail editing'}">
                        <thead>
                            <tr>
                                <th data-column="width:50px,type:row_actions"></th>
                                <th data-column="width:80px,sortable:true,title:OrderQty" data-content="fieldName:OrderQty,readOnly:true"></th>
                                <th data-column="width:80px,sortable:true,title:UnitPrice" data-content="fieldName:UnitPrice,readOnly:true"></th>
                                <th data-column="width:80px,sortable:true,title:UnitPriceDiscount" data-content="fieldName:UnitPriceDiscount,readOnly:true"></th>
                                <th data-column="width:80px,sortable:true,title:LineTotal" data-content="fieldName:LineTotal,readOnly:true"></th>
                                <th data-column="width:80px,sortable:true,title:Status" data-content="fieldName:SalesOrder.Status,readOnly:true"></th>
                                <th data-column="width:100%,title:Product" data-content="fieldName:Product.Name,readOnly:true"></th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</script>
<script id="productTemplate1" type="text/x-template">
    <div>
        <span data-bind="this.value,to=Product.Name"></span>
    </div>
</script>
<script id="productAutocompleteOptions" type="text/x-options">
    dbContext:inject($dbContext),
    fieldName:Name,
    dbSetName:LookUpProduct,
    queryName:ReadProductLookUp,
    templateId:prodAutocompleteTemplate,
    width:300px
</script>
<script id="productTemplate2" type="text/x-template">
    <span>
        autocomplete here-->
        <input type="text" style="margin-left: 0px; width: 300px;" data-bind="this.dataContext"
               data-view="productAutocomplete"
               data-view-options="get(productAutocompleteOptions)" />&nbsp;
        <b>*</b>
    </span>
</script>
<script id="prodAutocompleteTemplate" type="text/x-template">
    @*example of autocomplete implementation*@
    <div style="height: 98%; margin: 0px; padding: 2px; position: relative;">
        <div style="margin-left: 1px; position: relative; vertical-align: top;"
             data-bind="this.isBusy,to=isLoading" data-view="busy">
            <table data-name="lookupGrid" data-bind="this.dataSource,to=gridDataSource"
                   data-view-options="wrapCss:autocompleteTableWrap,headerCss:autocompleteTableHeader">
                <thead>
                    <tr>
                        <th data-column="width:100%,sortable:true,title:Name" data-content="fieldName:Name"></th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        <div style="position: relative; text-align: left;">
            <!--pager-->
            <div style="float: left;" data-bind="this.dataSource,to=gridDataSource"
                 data-view="pager"
                 data-view-options="sliderSize:5,hideOnSinglePage=true">
            </div>
            <div style="float: left; padding: 5px;">
                <span>Total rows:</span>&nbsp;<span data-bind="this.value,to=gridDataSource.totalCount"></span>
            </div>
        </div>
        <br style="clear: both;" />
        <div style="margin-left: auto;margin-right:auto;left: 0;right: 0;bottom:5px;text-align:center;position:absolute;">
            <a class="btn btn-info btn-small" style="width: 70px;" data-name="btnOk" data-bind="this.text,to=txtOk,source=TEXT">
                <i class="icon-ok"></i>
            </a><span class="space"></span>
            <a class="btn btn-info btn-small" style="width: 70px;" data-name="btnCancel" data-bind="this.text,to=txtCancel,source=TEXT">
                <i class="icon-remove"></i>
            </a>
        </div>
    </div>
</script>